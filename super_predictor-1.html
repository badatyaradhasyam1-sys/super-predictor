<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-title" content="Super Predictor">
  <title>Super Predictor</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: Arial, sans-serif;
      background: #f0f0f0;
      display: flex;
      justify-content: center;
      min-height: 100vh;
    }

    .container {
      background: #fff;
      width: 100%;
      max-width: 400px;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px 15px;
      gap: 15px;
    }

    h2 {
      font-size: 24px;
      color: #cc0000;
      font-weight: bold;
      letter-spacing: 2px;
    }

    .clock {
      background: #000;
      color: #00ff00;
      font-size: 34px;
      font-weight: bold;
      padding: 12px 20px;
      border-radius: 10px;
      letter-spacing: 3px;
      width: 100%;
      text-align: center;
    }

    .period {
      font-size: 18px;
      color: #555;
      font-weight: bold;
    }

    .prediction {
      background: #f9f9f9;
      border: 2px solid #ddd;
      border-radius: 12px;
      padding: 15px;
      width: 100%;
      text-align: center;
    }

    .pred-number {
      font-size: 55px;
      font-weight: bold;
      color: #222;
    }

    .pred-bs {
      font-size: 26px;
      font-weight: bold;
      margin-top: 4px;
    }

    .pred-color {
      font-size: 22px;
      font-weight: bold;
      margin-top: 4px;
      text-transform: capitalize;
    }

    .input-section {
      width: 100%;
      text-align: center;
    }

    .input-section p {
      font-size: 14px;
      color: #444;
      margin-bottom: 8px;
    }

    input[type="number"] {
      width: 100px;
      font-size: 22px;
      text-align: center;
      padding: 8px;
      border: 2px solid #ccc;
      border-radius: 8px;
      outline: none;
    }

    button {
      margin-top: 10px;
      background: #FF9800;
      color: white;
      font-size: 17px;
      padding: 11px 20px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      width: 100%;
    }

    button:active { background: #e68900; }

    .history {
      width: 100%;
      background: #f9f9f9;
      border-radius: 10px;
      padding: 12px;
      margin-bottom: 20px;
    }

    .history h3 {
      font-size: 15px;
      color: #333;
      margin-bottom: 10px;
      text-align: center;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 13px;
    }

    thead tr {
      background: #333;
      color: #fff;
    }

    thead th {
      padding: 8px 4px;
      font-size: 12px;
      text-align: center;
    }

    tbody tr:nth-child(even) { background: #efefef; }
    tbody tr:nth-child(odd)  { background: #fff; }

    tbody td {
      padding: 7px 4px;
      text-align: center;
      font-weight: bold;
      color: #222;
      border-bottom: 1px solid #ddd;
    }

    .badge {
      display: inline-block;
      padding: 2px 10px;
      border-radius: 12px;
      color: white;
      font-size: 12px;
      font-weight: bold;
    }
  </style>
</head>
<body>
<div class="container">

  <h2>âš¡ Super Predictor âš¡</h2>

  <div class="clock" id="clock">00:00:00</div>

  <div class="period" id="period">Period ----</div>

  <div class="prediction">
    <div class="pred-number" id="pred-num">-</div>
    <div class="pred-bs" id="pred-bs">----</div>
    <div class="pred-color" id="pred-col">---</div>
  </div>

  <div class="input-section">
    <p>à¤…à¤¸à¤²à¥€ à¤¨à¤‚à¤¬à¤° à¤†à¤¯à¤¾ à¤¤à¥‹ à¤¡à¤¾à¤²à¥‹:</p>
    <input type="number" id="entry" min="0" max="9" placeholder="0-9">
    <br>
    <button onclick="updateNumber()">Update à¤•à¤°à¥‹</button>
  </div>

  <div class="history">
    <h3>ðŸ“‹ à¤ªà¤¿à¤›à¤²à¥‡ 10 Periods à¤•à¥€ History</h3>
    <table>
      <thead>
        <tr>
          <th>Period</th>
          <th>Number</th>
          <th>Big/Small</th>
          <th>Color</th>
        </tr>
      </thead>
      <tbody id="history-body">
        <tr><td colspan="4" style="color:#aaa; padding:10px;">à¤…à¤­à¥€ à¤•à¥‹à¤ˆ history à¤¨à¤¹à¥€à¤‚</td></tr>
      </tbody>
    </table>
  </div>

</div>

<script>
  const BASE_MINUTES = 1 * 60 + 51;
  const BASE_PERIOD  = 11222;

  let pastNumbers = [3,8,9,7,6,3,2,6,9,3,1,7,3,4,4,3,4,9,7,5,2,3,5,9,8,4,2,2,0,3,8,0,4,3,8,4,5,7,2,3,3,2,5,6,7,6,8,7,8,5,3,0,8,3,3,8,9,1,6,9,6,7,5,9,9,8,9,2,9,7,3,7,7,4,2,8,1,6,6];

  // History: app ki prediction automatically store hoti hai
  let historyEntries = [];
  let lastSavedPeriod = null;

  function getCurrentPeriod() {
    const now = new Date();
    const currentMinutes = now.getHours() * 60 + now.getMinutes();
    return BASE_PERIOD + (currentMinutes - BASE_MINUTES);
  }

  function numberToColor(n) {
    if (n === 0 || n === 5) return "violet";
    if ([1,3,7,9].includes(n)) return "red";
    return "green";
  }

  function getColorHex(col) {
    if (col === "violet") return "#7B1FA2";
    if (col === "red")    return "#e53935";
    return "#43a047";
  }

  function getPrediction(periodId) {
    let seed = periodId;
    const last20 = pastNumbers.slice(-20);
    for (let num of last20) {
      seed = (seed * 1103515245 + 12345 + num) % (2 ** 31);
    }
    const r   = seed % 10;
    const bs  = r >= 5 ? "Big" : "Small";
    const col = numberToColor(r);
    return { r, bs, col };
  }

  function updateHistoryTable() {
    const tbody = document.getElementById('history-body');
    tbody.innerHTML = '';

    if (historyEntries.length === 0) {
      tbody.innerHTML = '<tr><td colspan="4" style="color:#aaa; padding:10px;">à¤…à¤­à¥€ à¤•à¥‹à¤ˆ history à¤¨à¤¹à¥€à¤‚</td></tr>';
      return;
    }

    // à¤¨à¤ à¤¸à¥‡ à¤ªà¥à¤°à¤¾à¤¨à¥‡ order à¤®à¥‡à¤‚
    const last10 = historyEntries.slice(-10).reverse();
    last10.forEach(entry => {
      const row = document.createElement('tr');
      const bsColor = entry.bs === "Big" ? "#1565C0" : "#6A1B9A";
      row.innerHTML = `
        <td>0${entry.period}</td>
        <td style="font-size:18px;">${entry.number}</td>
        <td><span class="badge" style="background:${bsColor}">${entry.bs}</span></td>
        <td><span class="badge" style="background:${getColorHex(entry.col)}">${entry.col}</span></td>
      `;
      tbody.appendChild(row);
    });
  }

  function updateDisplay() {
    const now = new Date();
    const h = String(now.getHours()).padStart(2,'0');
    const m = String(now.getMinutes()).padStart(2,'0');
    const s = String(now.getSeconds()).padStart(2,'0');
    document.getElementById('clock').textContent = `${h}:${m}:${s}`;

    const periodId = getCurrentPeriod();
    document.getElementById('period').textContent = `Period 0${periodId}`;

    const { r, bs, col } = getPrediction(periodId);
    document.getElementById('pred-num').textContent = r;
    document.getElementById('pred-bs').textContent = bs;

    const colEl = document.getElementById('pred-col');
    colEl.textContent = col;
    colEl.style.color = getColorHex(col);

    // âœ… à¤œà¤¬ period à¤¬à¤¦à¤²à¥‡ à¤¤à¥‹ à¤ªà¥à¤°à¤¾à¤¨à¤¾ period history à¤®à¥‡à¤‚ save à¤¹à¥‹, current à¤¨à¤¹à¥€à¤‚
    if (lastSavedPeriod === null) {
      // à¤ªà¤¹à¤²à¥€ à¤¬à¤¾à¤°: à¤¸à¤¿à¤°à¥à¤« lastSavedPeriod set à¤•à¤°à¥‹, history à¤®à¥‡à¤‚ à¤®à¤¤ à¤¡à¤¾à¤²à¥‹
      lastSavedPeriod = periodId;
    } else if (periodId !== lastSavedPeriod) {
      // period à¤¬à¤¦à¤² à¤—à¤¯à¤¾ â€” à¤ªà¥à¤°à¤¾à¤¨à¤¾ period history à¤®à¥‡à¤‚ à¤œà¤¾à¤à¤—à¤¾
      const oldPrediction = getPrediction(lastSavedPeriod);
      historyEntries.push({ period: lastSavedPeriod, number: oldPrediction.r, bs: oldPrediction.bs, col: oldPrediction.col });
      lastSavedPeriod = periodId;
      updateHistoryTable();
    }
  }

  // User à¤…à¤¸à¤²à¥€ à¤¨à¤‚à¤¬à¤° à¤¡à¤¾à¤²à¥‡ à¤¤à¥‹ pastNumbers update à¤¹à¥‹
  function updateNumber() {
    const val = parseInt(document.getElementById('entry').value);
    if (!isNaN(val) && val >= 0 && val <= 9) {
      pastNumbers.push(val);
      document.getElementById('entry').value = '';
      updateDisplay(); // prediction refresh
    }
  }

  setInterval(updateDisplay, 1000);

  function scheduleNextMinute() {
    const now = new Date();
    const msLeft = (60 - now.getSeconds()) * 1000 - now.getMilliseconds();
    setTimeout(() => {
      updateDisplay();
      scheduleNextMinute();
    }, msLeft);
  }

  updateDisplay();
  scheduleNextMinute();
</script>
</body>
</html>
